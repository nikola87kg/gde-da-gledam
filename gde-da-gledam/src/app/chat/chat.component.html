<div class="chat-wrapper">
  <div *ngIf="isChatOn" class="chat-live">
    <h5
      class="chat-header clickable"
      (click)="chatToggle()"
      (change)="setUsername()"
    >
      Promeni ime:
      <input
        class="chat-username"
        maxlength="25"
        [(ngModel)]="username"
        (click)="onNameChange($event)"
      />
    </h5>
    <div class="chat-history">
      <p *ngFor="let chat of chatHistory" [class.user]="chat.id === userId">
        <span class="chat-cloud">
          <span class="chat-name" >
            {{ chat.name }}
          </span>
          <br />
          {{ chat.message }}
        </span>
      </p>
    </div>
    <input
      #currentMessage
      class="chat-message"
      type="text"
      [(ngModel)]="chatMessage"
      (keyup.enter)="onSend(currentMessage.value); currentMessage.value = ''"
    />
  </div>
  <div class="chat-title clickable" (click)="chatToggle()">
    Live Chat ({{ username }})
  </div>
</div>
